@model AllInOneProject.ViewModels.PurchaseViewModel

<table class="table table-striped table-hover align-middle">
    <thead class="table-dark">
        <tr>
            <th>Code</th>
            <th>Date</th>
            <th>Qty</th>
            <th>Amount</th>
            <th>Party</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @if (Model != null)
        {
            @for (int i = 0; i < (Model.purchaseLists.Count); i++)
            {
                var totalQty = Model.purchaseLists[i].purchaseDetails?.Sum(d => d.Qty) ?? 0;
                var totalAmount = Model.purchaseLists[i].purchaseDetails?.Sum(d => d.Qty * d.Rate) ?? 0;
                <tr>
                    <td style="padding: 10px;width: 50px;">@Model.purchaseLists[i].Id</td>
                    <td style="padding: 10px;width: 50px;">@Model.purchaseLists[i].PurchaseDate.ToString("yyyy-MM-dd")</td>
                    <td style="padding: 10px;width: 50px;">@totalQty</td>
                    <td style="padding: 10px;width: 50px;">@totalAmount</td>
                    <td style="padding: 10px;width: 100px;">@Model.purchaseLists[i].PartyName</td>
                    <td style="padding: 10px;width: 30px;">
                        <div class="btn-group" role="group">
                            <form method="post" action="/Purchase/EditPurchase">
                                <input type="hidden" name="id" value="@Model.purchaseLists[i].Id" />
                                <button type="submit" class="btn btn-sm btn-warning me-1">
                                    ✎ Edit
                                </button>
                            </form>
                            <form method="post" action="/Purchase/DeletePurchase">
                                <input type="hidden" name="id" value="@Model.purchaseLists[i].Id" />
                                <button type="submit" class="btn btn-sm btn-danger me-1">
                                    ✕ Delete
                                </button>
                            </form>
                        </div>
                    </td>
                </tr>
            }
        }
    </tbody>
</table>
<style>
    .table th, .table td {
        vertical-align: middle;
    }

    .btn i {
        font-size: 1rem;
    }
</style>
