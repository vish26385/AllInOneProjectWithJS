@using System.Text.Json

<div class="sales-data-list-container" style="margin-top: 20px;">
   
    <table id="salesDataTable"
           class="table table-striped table-hover align-middle">
        <thead class="table-dark">
            <tr>
                <th>Code</th>
                <th>Date</th>
                <th>Qty</th>
                <th>Amount</th>
                <th>Due Date</th>
                <th>Party</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @if (Model != null)
            {
                foreach (var item in Model)
                {
                    <tr>
                        <input readonly type="hidden" id="idDueDays" value="@item.DueDays" />
                        <input readonly type="hidden" id="idPartyId" value="@item.PartyId" />

                        <td style="padding: 10px;">
                            <input readonly type="number" id="idSaleMasterId" value="@item.Id"
                                   style="width: 80px; padding: 6px; border: none; background: transparent;" />
                        </td>
                        <td style="padding: 10px;">
                            <input readonly type="text" id="idSaleDate" value="@item.SaleDate"
                                   style="width: 120px; padding: 6px; border: none; background: transparent;" />
                        </td>
                        <td style="padding: 10px;">
                            <input readonly type="number" id="idItemQty" value="@item.Qty"
                                   style="width: 80px; padding: 6px; border: none; background: transparent;" />
                        </td>
                        <td style="padding: 10px;">
                            <input readonly type="number" id="idItemAmount" value="@item.Amount.ToString("0.00")"
                                   style="width: 120px; padding: 6px; border: none; background: transparent;" />
                        </td>
                        <td style="padding: 10px;">
                            <input readonly type="text" id="idDueDate" value="@item.DueDate"
                                   style="width: 120px; padding: 6px; border: none; background: transparent;" />
                        </td>
                        <td style="padding: 10px;">
                            <input readonly type="text" id="idPartyName" value="@item.PartyName"
                                   style="width: 180px; padding: 6px; border: none; background: transparent;" />
                        </td>
                        <td style="padding: 10px;">
                            <button type="button" id="btnEdit"
                                    data-salesdetails='@Html.Raw(JsonSerializer.Serialize(item.salesDetails))'
                                    onclick="editSale(@item.Id,'@item.SaleDate',@item.DueDays,'@item.DueDate',@item.PartyId, this)" class="btn btn-sm btn-warning me-1">
                                ✎ Edit
                            </button>
                            <button type="button" id="btnDelete" onclick="deleteSalesData(@item.Id)" class="btn btn-sm btn-danger me-1">
                                ✕ Delete
                            </button>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
</div>

<style>
    #salesDataTable tbody tr:hover {
        background-color: #f9f9f9;
    }

    #salesDataTable th {
        font-weight: 600;
    }

    #salesDataTable input[readonly] {
        cursor: default;
    }

    #salesDataTable button:hover {
        opacity: 0.9;
    }

    @@media (max-width: 768px) {
        #salesDataTable, #salesDataTable thead, #salesDataTable tbody, #salesDataTable th, #salesDataTable td, #salesDataTable tr {
            display: block;
            width: 100%;
        }

            #salesDataTable thead tr {
                display: none;
            }

            #salesDataTable td {
                padding: 12px;
                text-align: right;
                position: relative;
            }

                #salesDataTable td::before {
                    content: attr(data-label);
                    position: absolute;
                    left: 10px;
                    font-weight: 600;
                    color: #555;
                }
    }
</style>
